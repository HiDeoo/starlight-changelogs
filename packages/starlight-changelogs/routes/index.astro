---
import type { InferGetStaticPropsType } from 'astro'

import Compare from '../components/Compare.astro'
import Version from '../components/Version.astro'
import Versions from '../components/Versions.astro'
import { getChangelogsStaticPaths } from '../libs/routing'

export const prerender = true

export async function getStaticPaths() {
  return getChangelogsStaticPaths()
}

type Props = InferGetStaticPropsType<typeof getStaticPaths>

const { type } = Astro.props
---

{type === 'versions' && <Versions {...Astro.props} />}
{type === 'version' && <Version {...Astro.props} />}
{type === 'compare' && <Compare {...Astro.props} />}
