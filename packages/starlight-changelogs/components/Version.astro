---
import StarlightPage from '@astrojs/starlight/components/StarlightPage.astro'
import { getVersionsPath, type VersionProps } from '../libs/routing'
import Entry from './Entry.astro'
import { getVersionTitle } from '../libs/title'
import { getLink } from '../libs/link'

type Props = VersionProps

const { changelog, entry, locale } = Astro.props

// TODO(HiDeoo) title
// TODO(HiDeoo) headings
---

<StarlightPage
  frontmatter={{
    title: getVersionTitle(changelog, entry, locale),
    prev: entry.pagination.prev,
    next: entry.pagination.next,
  }}
>
  <a href={getLink(getVersionsPath(changelog, locale))}>Back to changelog</a>
  <Entry {entry} />
</StarlightPage>
